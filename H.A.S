import tkinter as tk
from tkinter import ttk, messagebox
from datetime import datetime
import mysql.connector

def setup_database():
    try:
        mydb = mysql.connector.connect(
            host="localhost",  # or Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø®Ø§Ø¯Ù… Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
            user="root",       # Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø®Ø§Øµ Ø¨Ù€ MySQL
            password="root"    # ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù€ MySQL
        )

        mycursor = mydb.cursor()

        # Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©
        mycursor.execute("CREATE DATABASE IF NOT EXISTS hospital2")

        # Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
        mydb.close()  # Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø£ÙˆÙ„
        mydb = mysql.connector.connect(
            host="localhost",
            user="root",
            password="root",
            database="hospital2"  # Ø§Ø³Ù… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙŠ Ø£Ù†Ø´Ø£Ù†Ø§Ù‡Ø§
        )
        mycursor = mydb.cursor()

        mycursor.execute("""
            CREATE TABLE IF NOT EXISTS users (
                id INT AUTO_INCREMENT PRIMARY KEY,
                patant VARCHAR(255) NOT NULL,
                phone VARCHAR(100) NOT NULL,
                doc VARCHAR(255) NOT NULL,
                date VARCHAR(255) NOT NULL,
                time VARCHAR(255) NOT NULL,
                record TEXT NOT NULL,
                visit_type VARCHAR(50) NOT NULL
            )
        """)

        mydb.commit()
        mydb.close()
    except mysql.connector.Error as err:
        print(f"Something went wrong: {err}")

setup_database()

def load_data():
    try:
        mydb = mysql.connector.connect(
            host="localhost",
            user="root",
            password="root",
            database="hospital2"
        )
        mycursor = mydb.cursor()

        mycursor.execute("SELECT * FROM users")
        rows = mycursor.fetchall()

        # Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„
        tree.delete(*tree.get_children())

        # Ø¥Ø¯Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
        for row in rows:
            tree.insert("", "end", values=row)

        mydb.close()
    except mysql.connector.Error as err:
        print(f"Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: {err}")

def add_appointment():
    """ ØªØ¶ÙŠÙ Ù…ÙˆØ¹Ø¯ Ø¬Ø¯ÙŠØ¯ Ø¥Ù„Ù‰ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª """

    # Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
    patient_name = p_name_entry.get().strip()
    phone = phone_entry.get().strip()
    doctor = doctor_entry.get().strip()
    date = f"{year_entry.get()}-{month_entry.get()}-{day_entry.get()}"  # ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªØ§Ø±ÙŠØ®
    time = f"{time_entry.get()} {period_entry.get()}"
    record = record_entry.get("1.0", tk.END).strip()  # Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù†Øµ Ù…Ø¹ Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ø³Ø§ÙØ§Øª Ø§Ù„ÙØ§Ø±ØºØ©
    visit_type = visit_type_var.get()

    # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ù…Ù…ØªÙ„Ø¦Ø©
    if not all([patient_name, phone, doctor, date, time, record, visit_type]):
        print("Error: Incomplete data received!")  # Ø·Ø¨Ø§Ø¹Ø© Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£
        return

    try:
        # Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        mydb = mysql.connector.connect(
            host="localhost",
            user="root",
            password="root",
            database="hospital2"
        )
        mycursor = mydb.cursor()

        # ØªÙ†ÙÙŠØ° Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        mycursor.execute(
            "INSERT INTO users (patant, phone, doc, date, time, record, visit_type) VALUES (%s, %s, %s, %s, %s, %s, %s)",
            (patient_name, phone, doctor, date, time, record, visit_type)
        )
        mydb.commit()
        mydb.close()

        print(f"Success: Appointment for {patient_name} added successfully!")  # Ø·Ø¨Ø§Ø¹Ø© Ù†Ø¬Ø§Ø­ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
        load_data()  # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø¨Ø¹Ø¯ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙˆØ¹Ø¯

    except mysql.connector.Error as err:
        print(f"Database Error: {err}")

def edit_appointment():
    """ ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙˆØ¹Ø¯ Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª """
    try:
        selected_item = tree.selection()[0]
        item = tree.item(selected_item)
        appointment_id = item['values'][0]

        # Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
        patient_name = p_name_entry.get().strip()
        phone = phone_entry.get().strip()
        doctor = doctor_entry.get().strip()
        date = f"{year_entry.get()}-{month_entry.get()}-{day_entry.get()}"  # ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªØ§Ø±ÙŠØ®
        time = f"{time_entry.get()} {period_entry.get()}"
        record = record_entry.get("1.0", tk.END).strip()  # Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù†Øµ Ù…Ø¹ Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ø³Ø§ÙØ§Øª Ø§Ù„ÙØ§Ø±ØºØ©
        visit_type = visit_type_var.get()

        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ù…Ù…ØªÙ„Ø¦Ø©
        if not all([patient_name, phone, doctor, date, time, record, visit_type]):
            print("Error: Incomplete data received!")  # Ø·Ø¨Ø§Ø¹Ø© Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£
            return

        mydb = mysql.connector.connect(
            host="localhost",
            user="root",
            password="root",
            database="hospital2"
        )
        mycursor = mydb.cursor()

        # ØªÙ†ÙÙŠØ° Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        mycursor.execute("""
            UPDATE users
            SET patant = %s, phone = %s, doc = %s, date = %s, time = %s, record = %s, visit_type = %s
            WHERE id = %s
        """, (patient_name, phone, doctor, date, time, record, visit_type, appointment_id))
        
        mydb.commit()
        mydb.close()

        print(f"Success: Appointment for {patient_name} updated successfully!")  # Ø·Ø¨Ø§Ø¹Ø© Ù†Ø¬Ø§Ø­ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
        load_data()  # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø¨Ø¹Ø¯ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¹Ø¯

    except IndexError:
        print("Error: No appointment selected!")  # Ø·Ø¨Ø§Ø¹Ø© Ø®Ø·Ø£ Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆØ¹Ø¯
    except mysql.connector.Error as err:
        print(f"Database Error: {err}")

def delete_appointment():
    try:
        selected_item = tree.selection()[0]
        item = tree.item(selected_item)
        appointment_id = item['values'][0]

        mydb = mysql.connector.connect(
            host="localhost",
            user="root",
            password="root",
            database="hospital2"
        )
        mycursor = mydb.cursor()
        mycursor.execute("DELETE FROM users WHERE id = %s", (appointment_id,))
        mydb.commit()

        tree.delete(selected_item)

        success_label = tk.Label(root, text="ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø¨Ù†Ø¬Ø§Ø­ âœ…", fg="green", bg="white", font=("Helvetica", 10, "bold"))
        success_label.pack()
        root.after(2000, success_label.destroy)

    except IndexError:
        error_label = tk.Label(root, text="ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆØ¹Ø¯ Ù„Ø­Ø°ÙÙ‡.", fg="red", bg="white", font=("Helvetica", 10, "bold"))
        error_label.pack()
        root.after(2000, error_label.destroy)
    except mysql.connector.Error as err:
        error_label = tk.Label(root, text=f"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: {err}", fg="red", bg="white", font=("Helvetica", 10, "bold"))
        error_label.pack()
        root.after(2000, error_label.destroy)
    finally:
        mydb.close()

def search_data():
    """ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…ÙˆØ§Ø¹ÙŠØ¯ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…Ø¹ÙŠØ§Ø± Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…Ø­Ø¯Ø¯ """
    query = search_entry.get().strip()
    filter_by = search_options.get()

    if filter_by == "Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶":
        filter_by = "patant"
    elif filter_by == "Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ":
        filter_by = "phone"
    elif filter_by == "Ø§Ø³Ù… Ø§Ù„Ø·Ø¨ÙŠØ¨":
        filter_by = "doc"
    elif filter_by == "Ø§Ù„ØªØ§Ø±ÙŠØ®":
        filter_by = "date"
    else:
        filter_by = "visit_type"

    try:
        mydb = mysql.connector.connect(
            host="localhost",
            user="root",
            password="root",
            database="hospital2"
        )
        mycursor = mydb.cursor()

        sql = f"SELECT * FROM users WHERE {filter_by} LIKE %s"
        values = (f"%{query}%", )
        mycursor.execute(sql, values)
        rows = mycursor.fetchall()

        # Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„
        tree.delete(*tree.get_children())

        # Ø¥Ø¯Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
        for row in rows:
            tree.insert("", "end", values=row)

        mydb.close()
    except mysql.connector.Error as err:
        print(f"Database Error: {err}")

# Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
root = tk.Tk()
root.title("Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø¹ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©")
root.geometry("980x600")
root.configure(bg="#F0F8FF")

# Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø«
search_frame = tk.Frame(root, bg="#F0F8FF")
search_frame.pack(pady=10)
tk.Label(search_frame, text="Ø¨Ø­Ø«:", bg="#F0F8FF", font=("Arial", 14, "bold")).pack(side=tk.LEFT, padx=5)
search_entry = tk.Entry(search_frame, font=("Arial", 13), bd=2, relief="groove")
search_entry.pack(side=tk.LEFT, padx=5)
search_options = ttk.Combobox(search_frame, values=["Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶", "Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ", "Ø§Ø³Ù… Ø§Ù„Ø·Ø¨ÙŠØ¨", "Ø§Ù„ØªØ§Ø±ÙŠØ®", "Ù†ÙˆØ¹ Ø§Ù„Ø²ÙŠØ§Ø±Ø©"], font=("Arial", 13))
search_options.pack(side=tk.LEFT, padx=5)
search_options.set("Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶")
tk.Button(search_frame, text="ğŸ” Ø¨Ø­Ø«", bg="#4CAF50", fg="white", font=("Arial", 13, "bold"), command=search_data).pack(side=tk.LEFT, padx=5)
# Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¬Ø¯ÙˆÙ„
columns = ("id", "Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶", "Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ", "Ø§Ø³Ù… Ø§Ù„Ø·Ø¨ÙŠØ¨", "ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙˆØ¹Ø¯", "Ù…ÙŠØ¹Ø§Ø¯ Ø§Ù„Ø­Ø¶ÙˆØ±", "Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø±Ø¶ÙŠ", "Ù†ÙˆØ¹ Ø§Ù„Ø²ÙŠØ§Ø±Ø©")
tree = ttk.Treeview(root, columns=columns, show="headings")
tree.pack(expand=True, fill="both", padx=10, pady=10)

for col in columns:
    tree.heading(col, text=col, anchor=tk.CENTER)
    tree.column(col, anchor=tk.CENTER, width=10, minwidth=30, stretch=True)  # Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨ØªØºÙŠØ± Ø§Ù„Ø¹Ø±Ø¶

def on_tree_select(event):
    selected_item = tree.selection()  # Ø¬Ù„Ø¨ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù…Ø­Ø¯Ø¯ Ù…Ù† Ø§Ù„Ø¬Ø¯ÙˆÙ„

    if selected_item:
        values = tree.item(selected_item, "values")  # Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù‚ÙŠÙ… Ù…Ù† Ø§Ù„Ø¹Ù†ØµØ±

        # ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¨Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
        p_name_entry.delete(0, tk.END)
        p_name_entry.insert(0, values[1])

        phone_entry.delete(0, tk.END)
        phone_entry.insert(0, values[2])

        doctor_entry.delete(0, tk.END)
        doctor_entry.insert(0, values[3])

        if "-" in values[4]:  # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªØ§Ø±ÙŠØ®
            date_parts = values[4].split("-")
            if len(date_parts) == 3:  # ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù‡Ù†Ø§Ùƒ 3 Ø£Ø¬Ø²Ø§Ø¡ (YYYY-MM-DD)
                day_entry.set(date_parts[2])   # Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„ÙŠÙˆÙ…
                month_entry.set(date_parts[1])  # Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø´Ù‡Ø±
                year_entry.set(date_parts[0])  # Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø³Ù†Ø©

        time_parts = values[5].split(" ")
        if len(time_parts) == 2:
            time_entry.set(time_parts[0])  # Ø¶Ø¨Ø· ÙˆÙ‚Øª Ø§Ù„Ù…ÙˆØ¹Ø¯
            period_entry.set(time_parts[1])  # Ø¶Ø¨Ø· Ø§Ù„ÙØªØ±Ø© (ØµØ¨Ø§Ø­Ù‹Ø§/Ù…Ø³Ø§Ø¡Ù‹)

        record_entry.delete("1.0", tk.END)
        record_entry.insert("1.0", values[6])  # Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø±Ø¶ÙŠ

        visit_type_var.set(values[7])  # Ø¶Ø¨Ø· Ù†ÙˆØ¹ Ø§Ù„Ø²ÙŠØ§Ø±Ø©

tree.bind("<<TreeviewSelect>>", on_tree_select)
# Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
form_frame = tk.Frame(root, bg="#F0F8FF")
form_frame.pack(pady=10)

tk.Label(form_frame, text="Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶", bg="#F0F8FF", font=("Arial", 13)).grid(row=0, column=0)
p_name_entry = tk.Entry(form_frame, font=("Arial", 13), bd=2, relief="groove")
p_name_entry.grid(row=0, column=1)

tk.Label(form_frame, text="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ", bg="#F0F8FF", font=("Arial", 13)).grid(row=1, column=0)
phone_entry = tk.Entry(form_frame, font=("Arial", 13), bd=2, relief="groove")
phone_entry.grid(row=1, column=1)

tk.Label(form_frame, text="Ø§Ø³Ù… Ø§Ù„Ø·Ø¨ÙŠØ¨", bg="#F0F8FF", font=("Arial", 13)).grid(row=2, column=0)
doctor_entry = tk.Entry(form_frame, font=("Arial", 13), bd=2, relief="groove")
doctor_entry.grid(row=2, column=1)

tk.Label(form_frame, text="Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø±Ø¶ÙŠ", bg="#F0F8FF", font=("Arial", 13)).grid(row=0, column=4, sticky="n")
record_entry = tk.Text(form_frame, font=("Arial", 13), bd=2, relief="groove", height=7, width=30)
record_entry.grid(row=1, column=4, rowspan=4, sticky="w")

tk.Label(form_frame, text="Ù†ÙˆØ¹ Ø§Ù„Ø²ÙŠØ§Ø±Ø©", bg="#F0F8FF", font=("Arial", 13)).grid(row=5, column=0)
visit_type_var = tk.StringVar(value="ÙƒØ´Ù")
tk.Radiobutton(form_frame, text="ÙƒØ´Ù", variable=visit_type_var, value="ÙƒØ´Ù", bg="#F0F8FF", font=("Arial", 13)).grid(row=5, column=1, sticky="w")
tk.Radiobutton(form_frame, text="Ø¹Ù…Ù„ÙŠØ§Øª", variable=visit_type_var, value="Ø¹Ù…Ù„ÙŠØ§Øª", bg="#F0F8FF", font=("Arial", 13)).grid(row=5, column=1, sticky="e")

# Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªØ§Ø±ÙŠØ®
tk.Label(form_frame, text="Ø§Ù„ØªØ§Ø±ÙŠØ®", bg="#F0F8FF", font=("Arial", 13)).grid(row=3, column=0)
now = datetime.today()
day_entry = ttk.Combobox(form_frame, values=[str(i) for i in range(1, 32)], font=("Arial", 13), width=5)
day_entry.set(str(now.day))
day_entry.grid(row=3, column=1, sticky="w")

month_entry = ttk.Combobox(form_frame, values=[str(i) for i in range(1, 13)], font=("Arial", 13), width=3)
month_entry.set(str(now.month))
month_entry.grid(row=3, column=1)

year_entry = ttk.Combobox(form_frame, values=[str(i) for i in range((now.year), 2051)], font=("Arial", 13), width=5)
year_entry.set(str(now.year))
year_entry.grid(row=3, column=1, sticky="e")

# Ø§Ø®ØªÙŠØ§Ø± Ù…ÙŠØ¹Ø§Ø¯ Ø§Ù„Ø­Ø¶ÙˆØ±
tk.Label(form_frame, text="Ù…ÙŠØ¹Ø§Ø¯ Ø§Ù„Ø­Ø¶ÙˆØ±", bg="#F0F8FF", font=("Arial", 13)).grid(row=4, column=0)
time_entry = ttk.Combobox(form_frame, values=[f"{h}:00" for h in range(1, 13)], font=("Arial", 13), width=6)
time_entry.grid(row=4, column=1, sticky="w")

period_entry = ttk.Combobox(form_frame, values=["ØµØ¨Ø§Ø­Ù‹Ø§", "Ù…Ø³Ø§Ø¡Ù‹"], font=("Arial", 13), width=6)
period_entry.grid(row=4, column=1)
period_entry.grid(row=4, column=1, sticky="e")

# Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ…
button_frame = tk.Frame(root, bg="#F0F8FF")
button_frame.pack(pady=10)
tk.Button(button_frame, text="â• Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¹Ø¯", bg="#4CAF50", fg="white", font=("Arial", 13, "bold"), command=add_appointment).pack(side=tk.LEFT, padx=5)
tk.Button(button_frame, text="âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ù…ÙˆØ¹Ø¯", bg="#2196F3", fg="white", font=("Arial", 13, "bold"), command=edit_appointment).pack(side=tk.LEFT, padx=5)
tk.Button(button_frame, text="âŒ Ø­Ø°Ù Ù…ÙˆØ¹Ø¯", bg="#F44336", fg="white", font=("Arial", 13, "bold"), command=delete_appointment).pack(side=tk.LEFT, padx=5)

# Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„Ø¯Ø§Ù„Ø© Ø¹Ù†Ø¯ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬
load_data()

root.mainloop()
